"use strict";(()=>{var e={};e.id=170,e.ids=[170],e.modules={1185:e=>{e.exports=require("mongoose")},145:e=>{e.exports=require("next/dist/compiled/next-server/pages-api.runtime.prod.js")},6342:(e,t,r)=>{r.r(t),r.d(t,{config:()=>p,default:()=>c,routeModule:()=>f});var n={};r.r(n),r.d(n,{default:()=>handler});var a=r(1802),u=r(7153),o=r(6249),i=r(3163),d=r(1185);let s=new d.Schema({count:{type:Number,required:!0},type:{type:String,required:!0}});function counterModel(e){return e.model("Count",s)}let l=counterModel;async function handler(e,t){let r=await (0,i.w_)(),n=l(r);if("POST"===e.method);else if("GET"===e.method)try{let e=await n.findOne({type:"board"});if(!e)return t.status(404).send("Counter를 찾을 수 없습니다");let r=e.count;e.count+=1,await e.save(),t.status(200).send({currentCount:r})}catch(e){t.status(500).send("서버 오류")}}let c=(0,o.l)(n,"default"),p=(0,o.l)(n,"config"),f=new a.PagesAPIRouteModule({definition:{kind:u.x.PAGES_API,page:"/api/counter",pathname:"/api/counter",bundlePath:"",filename:""},userland:n})}};var t=require("../../webpack-api-runtime.js");t.C(e);var __webpack_exec__=e=>t(t.s=e),r=t.X(0,[222,163],()=>__webpack_exec__(6342));module.exports=r})();