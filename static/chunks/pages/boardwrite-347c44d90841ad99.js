(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[305],{79007:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/boardwrite",function(){return n(32136)}])},32136:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return boardwrite_Write}});var a=n(85893),r=n(67294),i=n(33299),l=n(82729),o=n(16829);function _templateObject(){let e=(0,l._)(["\n  display: flex;\n  width: 100%;\n  height: 5%;\n  background-color: white;\n  margin: 10px;\n  border-radius: 5px;\n"]);return _templateObject=function(){return e},e}function _templateObject1(){let e=(0,l._)(["\n  display: flex;\n  width: 100%;\n  height: 30%;\n  background-color: white;\n  margin: 10px;\n  border-radius: 5px;\n"]);return _templateObject1=function(){return e},e}function _templateObject2(){let e=(0,l._)(["\n  display: flex;\n  width: 100%;\n  height: 10%;\n  background-color: white;\n  margin: 10px;\n  border-radius: 5px;\n"]);return _templateObject2=function(){return e},e}function _templateObject3(){let e=(0,l._)(["\n  display: flex;\n  justify-content: center; /* 수평 중앙 정렬 */\n  align-items: center; /* 수직 중앙 정렬 */\n  flex-direction: column; /* 내부 요소들을 세로로 정렬 */\n  font-size: 100px;\n  width: 70%;\n  height: 100%;\n  border-radius: 5px;\n"]);return _templateObject3=function(){return e},e}function _templateObject4(){let e=(0,l._)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  border: 1px solid black; /* 흰색 테두리 추가 */\n  border-radius: 5px;\n  width: 80px;\n  height: 30px;\n\n  margin-left: auto; /* 오른쪽으로 이동 */\n"]);return _templateObject4=function(){return e},e}let u=o.Z.input(_templateObject()),c=o.Z.input(_templateObject1()),s=o.Z.div(_templateObject2()),d=o.Z.div(_templateObject3()),p=o.Z.button(_templateObject4());var f=n(6154),g=n(51024),Write=e=>{var t,n;let{data:l}=(0,i.useSession)(),[o,b]=(0,r.useState)(""),[h,_]=(0,r.useState)(""),[m,x]=(0,r.useState)(null!==(n=null==l?void 0:null===(t=l.user)||void 0===t?void 0:t.name)&&void 0!==n?n:""),[j,w]=(0,r.useState)(""),[O,v]=(0,r.useState)(0),[S,y]=(0,r.useState)(0),[k,Z]=(0,r.useState)(null),[C,E]=(0,r.useState)(!1);(0,r.useEffect)(()=>{let e=new Date,t="".concat(e.getFullYear(),"-").concat(String(e.getMonth()+1).padStart(2,"0"),"-").concat(String(e.getDate()).padStart(2,"0"));w(t)},[]);let submit=async()=>{console.log(m),E(!0);try{let t=await f.Z.get("/api/counter"),n=t.data.currentCount,a=await f.Z.post("/api/boards",{num:n,title:o,content:h,author:m,date:j,views:O,likes:S});200===a.status?(console.log("Update successful!"),window.location.href="/board"):console.error("Failed to update:",a.data);let r=new FormData;k&&r.append("file",k),r.append("count",n.toString());let i=await f.Z.post("/api/boardupload?count=".concat(n),r);200===i.status&&(console.log("File uploaded successfully:"),e.setRefreshImage(!e.refreshImage))}catch(e){console.error("Error updating device data:",e)}finally{E(!1)}};return(0,a.jsxs)(d,{children:[(0,a.jsx)(p,{onClick:submit,disabled:C,children:"글 쓰기"}),(0,a.jsx)(u,{value:o,onChange:e=>{b(e.target.value),console.log(o)},placeholder:"제목"}),(0,a.jsx)(c,{value:h,onChange:e=>{_(e.target.value)},placeholder:"내용"}),(0,a.jsx)(s,{children:(0,a.jsx)(g.Z,{type:"file",name:"file",onChange:e=>{e.target.files&&e.target.files.length>0&&Z(e.target.files[0])}})})]})};function boardwrite_Write(){return(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(Write,{})})}}},function(e){e.O(0,[48,24,774,888,179],function(){return e(e.s=79007)}),_N_E=e.O()}]);