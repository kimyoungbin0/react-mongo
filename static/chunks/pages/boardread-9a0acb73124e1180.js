(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[886],{45186:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/boardread",function(){return n(19374)}])},19374:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return BoardPage}});var r=n(85893),a=n(67294),i=n(33299),c=n(82729),o=n(16829);function _templateObject(){let e=(0,c._)(["\n  display: flex;\n  width: 100%;\n  height: 5%;\n  background-color: white;\n  margin: 10px;\n  border-radius: 5px;\n"]);return _templateObject=function(){return e},e}function _templateObject1(){let e=(0,c._)(["\n  display: flex;\n  width: 100%;\n  height: 30%;\n  background-color: white;\n  margin: 10px;\n  border-radius: 5px;\n"]);return _templateObject1=function(){return e},e}function _templateObject2(){let e=(0,c._)(["\n  display: flex;\n  width: 100%;\n  height: 10%;\n  background-color: white;\n  margin: 10px;\n  border-radius: 5px;\n"]);return _templateObject2=function(){return e},e}function _templateObject3(){let e=(0,c._)(["\n  display: flex;\n  justify-content: center; /* 수평 중앙 정렬 */\n  align-items: center; /* 수직 중앙 정렬 */\n  flex-direction: column; /* 내부 요소들을 세로로 정렬 */\n  font-size: 100px;\n  width: 70%;\n  height: 100%;\n  border-radius: 5px;\n"]);return _templateObject3=function(){return e},e}function _templateObject4(){let e=(0,c._)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  border: 1px solid black; /* 흰색 테두리 추가 */\n  border-radius: 5px;\n  width: 80px;\n  height: 30px;\n  margin-left: auto; /* 오른쪽으로 이동 */\n"]);return _templateObject4=function(){return e},e}function _templateObject5(){let e=(0,c._)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  border-radius: 5px;\n  font-size: 1px;\n  margin-left: auto; /* 오른쪽으로 이동 */\n"]);return _templateObject5=function(){return e},e}let l=o.Z.div(_templateObject()),d=o.Z.div(_templateObject1()),u=o.Z.div(_templateObject2()),s=o.Z.div(_templateObject3()),f=o.Z.button(_templateObject4()),p=o.Z.div(_templateObject5());var h=n(6154),b=n(11163),Read=e=>{var t;let{data:n}=(0,i.useSession)(),[c,o]=(0,a.useState)(""),[m,x]=(0,a.useState)(""),[_,g]=(0,a.useState)(null==n?void 0:null===(t=n.user)||void 0===t?void 0:t.name),[j,w]=(0,a.useState)(""),[O,y]=(0,a.useState)(0),[k,v]=(0,a.useState)(0),[E,Z]=(0,a.useState)([]),S=(0,b.useRouter)(),{idx:C}=S.query;(0,a.useEffect)(()=>{async function fetchBoardData(){try{let e=await h.Z.get("/api/boards?num=".concat(C)),t=e.data;await h.Z.put("/api/boards",{num:C}),console.log(t),o(t[0].title),x(t[0].content),w(t[0].date),y(t[0].views),v(t[0].likes)}catch(e){console.error("Error fetching board data:",e)}}C&&fetchBoardData()},[C]),(0,a.useEffect)(()=>{async function fetchImages(){try{let e=await h.Z.get("/api/boardupload?count=".concat(C));Z(e.data)}catch(e){console.error("Error fetching images:",e)}}C&&fetchImages()},[C]);let onClickDelete=async()=>{try{let e=await h.Z.delete("/api/boards",{data:{num:C}});200===e.status?(console.log("Deletion successful!"),window.location.href="/board"):console.error("Failed to delete:",e.data)}catch(e){console.error("Error deleting device data:",e)}};return(0,r.jsxs)(s,{children:[(0,r.jsxs)(p,{children:[(0,r.jsx)(f,{style:{width:"30px",marginRight:"5px"},onClick:()=>{!async function(){try{let e=await h.Z.put("/api/boards?likes=true",{num:C,likes:k});200===e.status?console.log(" successful!"):console.error("Failed to delete:",e.data)}catch(e){console.error("Error fetching board data:",e)}}()},children:"❤️"}),(0,r.jsx)(f,{onClick:()=>{window.location.href="/boardedit?idx=".concat(C)},children:"수정"})]}),(0,r.jsx)(l,{children:c}),(0,r.jsx)(d,{children:m}),(0,r.jsx)(u,{children:(0,r.jsx)(u,{children:E.map((e,t)=>(0,r.jsx)("a",{href:"/uploads/".concat(C,"/").concat(e),download:!0,children:e},t))})}),(0,r.jsx)(f,{onClick:onClickDelete,children:"삭제"})]})};function BoardPage(){return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(Read,{})})}}},function(e){e.O(0,[48,774,888,179],function(){return e(e.s=45186)}),_N_E=e.O()}]);