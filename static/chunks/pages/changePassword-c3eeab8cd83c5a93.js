(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[613],{48730:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/changePassword",function(){return n(63497)}])},63497:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return Changepassword}});var r=n(85893),o=n(67294),a=n(82729),i=n(16829);function _templateObject(){let e=(0,a._)(["\n  position: absolute;\n  top: 50%;\n  left: 60%;\n  width: 100%;\n  max-width: 500px;\n  padding: 0 20px;\n\n  transform: translate(-50%, -50%);\n\n  background-color: white;\n\n  overflow: hidden;\n  display: flex;\n  flex-direction: column;\n  border: 4px solid #f0f0f0;\n"]);return _templateObject=function(){return e},e}function _templateObject1(){let e=(0,a._)(['\n  margin-top: 50px;\n  width: 100%;\n  height: 60px;\n  color: #262626;\n  text-align: center;\n  background-image: url("/images/logo.jpg");\n  background-size: cover;\n  background-repeat: no-repeat;\n  background-position: center;\n']);return _templateObject1=function(){return e},e}function _templateObject2(){let e=(0,a._)(["\n  margin-top: 26px;\n  flex: 1;\n"]);return _templateObject2=function(){return e},e}function _templateObject3(){let e=(0,a._)(["\n  font-size: 12px;\n  font-weight: 600;\n  color: #262626;\n"]);return _templateObject3=function(){return e},e}function _templateObject4(){let e=(0,a._)(["\n  text-align: center;\n  font-size: 12px;\n  font-weight: 600;\n  color: #262626;\n  margin-top: 15px;\n"]);return _templateObject4=function(){return e},e}function _templateObject5(){let e=(0,a._)(["\n  display: flex;\n  border-radius: 8px;\n  padding: 16px;\n  margin-top: 8px;\n  background-color: #f7f7f7;\n  border: 1px solid #e2e0e0;\n  margin-bottom: 20px;\n"]);return _templateObject5=function(){return e},e}function _templateObject6(){let e=(0,a._)(["\n  width: 100%;\n  outline: none;\n  border: none;\n  height: 17px;\n  font-size: 14px;\n  font-weight: 400;\n  background-color: #f7f7f7;\n"]);return _templateObject6=function(){return e},e}function _templateObject7(){let e=(0,a._)(["\n  width: 100%;\n  height: 48px;\n  border: none;\n  font-weight: bold;\n  border-radius: 64px;\n  background-color: #77a7ff;\n  color: white;\n\n  cursor: pointer;\n"]);return _templateObject7=function(){return e},e}function _templateObject8(){let e=(0,a._)(["\n  display: flex;\n  width: 20%;\n  height: 48px;\n  border: none;\n  font-weight: bold;\n  border-radius: 5px;\n  background-color: #77a7ff;\n  color: white;\n  justify-content: center;\n  align-items: center;\n  cursor: pointer;\n\n  /* For right alignment */\n  margin-left: auto;\n"]);return _templateObject8=function(){return e},e}function _templateObject9(){let e=(0,a._)(["\n  margin-top: 8px;\n  color: #ef0000;\n  font-size: 12px;\n"]);return _templateObject9=function(){return e},e}function _templateObject10(){let e=(0,a._)(["\n  text-align: right;\n  margin-bottom: 10px;\n  color: #77a7ff;\n"]);return _templateObject10=function(){return e},e}function _templateObject11(){let e=(0,a._)(["\n  text-align: center;\n  width: 100%;\n  margin-top: 16px;\n  margin-bottom: 16px;\n"]);return _templateObject11=function(){return e},e}let l=i.Z.div(_templateObject()),u=i.Z.div(_templateObject1()),c=i.Z.div(_templateObject2()),p=i.Z.div(_templateObject3());i.Z.div(_templateObject4());let s=i.Z.div(_templateObject5()),d=i.Z.input(_templateObject6()),f=i.Z.button(_templateObject7());i.Z.button(_templateObject8()),i.Z.div(_templateObject9()),i.Z.a(_templateObject10());let b=i.Z.div(_templateObject11());var m=n(11163),_=n(4863),g=n(6154),h=n(33299),changePassword_ChangePassword=e=>{var t,n,a,i;let[j,x]=(0,o.useState)(""),[O,w]=(0,o.useState)(""),[v,Z]=(0,o.useState)(""),[k,y]=(0,o.useState)(null),C=(0,m.useRouter)(),{data:S}=(0,h.useSession)(),P=null!==(a=null==S?void 0:null===(t=S.user)||void 0===t?void 0:t.name)&&void 0!==a?a:"",z=null!==(i=null==S?void 0:null===(n=S.user)||void 0===n?void 0:n.email)&&void 0!==i?i:"",[E,N]=(0,o.useState)(P),handleSubmit=async e=>{if(e.preventDefault(),v!==O){y("새로운 비밀번호가 일치하지 않습니다");return}try{let e=await g.Z.put("/api/user?password=true",{password:j,newPassword:v,email:z});200===e.status?console.log("Update successful!"):console.error("Failed to update:",e.data),C.push("/account")}catch(e){y("error")}};return(0,r.jsx)("form",{onSubmit:handleSubmit,children:(0,r.jsxs)(l,{children:[(0,r.jsx)(u,{}),(0,r.jsxs)(c,{children:["​",(0,r.jsx)(p,{children:"현재 비밀번호"}),(0,r.jsx)(s,{children:(0,r.jsx)(d,{type:"password",value:j,onChange:e=>x(e.target.value),required:!0})}),"​",(0,r.jsx)(p,{children:"새 비밀번호"}),(0,r.jsx)(s,{children:(0,r.jsx)(d,{type:"password",value:v,onChange:e=>Z(e.target.value),required:!0})}),"​",(0,r.jsx)(p,{children:"새 비밀번호 확인"}),(0,r.jsx)(s,{children:(0,r.jsx)(d,{type:"password",value:O,onChange:e=>w(e.target.value),required:!0})})]}),"​",(0,r.jsx)("div",{children:(0,r.jsx)(f,{type:"submit",children:"변경"})}),(0,r.jsx)(b,{children:k&&(0,r.jsx)(_.Z,{type:"error",message:"잘못된 정보입니다",banner:!0})})]})})};function Changepassword(){return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(changePassword_ChangePassword,{})})}}},function(e){e.O(0,[48,863,774,888,179],function(){return e(e.s=48730)}),_N_E=e.O()}]);